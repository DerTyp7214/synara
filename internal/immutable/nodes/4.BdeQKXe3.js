import{f as m,a as v}from"../chunks/BkoMyPZV.js";import{P as q,Q as C,g as a,R as c,T as p,U as E,V as o,W as r,X as s,Y as A,Z as i}from"../chunks/B1_1bNDI.js";import{s as u}from"../chunks/BE8pxByJ.js";import{i as y}from"../chunks/B37sp3DF.js";import{s as B}from"../chunks/Cmvr3M9x.js";import{p as f}from"../chunks/Wu5MCycz.js";var G=m('<div class="badge preset-filled-surface"> </div>'),H=m('<a target="_blank" rel="noopener noreferrer" class="btn preset-tonal w-full">View on MusicBrainz</a>'),J=m('<div class="text-xs opacity-50 font-mono mt-2 break-all"> </div>'),K=m('<div class="relative min-h-screen w-full flex items-center justify-center overflow-hidden bg-surface-900"><div class="absolute w-150 h-150 bg-primary-500/20 blur-[120px] rounded-full top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none"></div> <div class="absolute inset-0 pointer-events-none bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.1)_50%)] bg-size-[100%_4px] z-10"></div> <div class="container mx-auto p-4 flex flex-col items-center justify-center relative z-20"><div class="card p-8 w-full max-w-2xl bg-surface-100-800-token shadow-xl space-y-6 text-center border border-surface-200-700-token rounded-container-token backdrop-blur-sm bg-opacity-90 dark:bg-opacity-90"><h1 class="h3 font-bold uppercase tracking-widest opacity-60">Shared Track</h1> <div class="space-y-2"><h2 class="h1 font-bold text-primary-500"> </h2> <p class="h3 text-surface-600-300-token"> </p></div> <!> <div class="flex flex-col gap-3 w-full pt-4"><a class="btn preset-filled-primary-500 font-bold w-full shadow-lg shadow-primary-500/20">Open in Synara</a> <!></div> <!></div></div></div>');function le(U,F){q(F,!0);let N=s(()=>f.url.searchParams.get("title")??"Unknown Title"),w=s(()=>f.url.searchParams.getAll("artist")),S=s(()=>f.url.searchParams.get("duration")),n=s(()=>f.url.searchParams.get("mbid")),l=A(null),h=A(!1);C(()=>{a(n)?(c(h,!0),fetch(`https://musicbrainz.org/ws/2/recording/${a(n)}?fmt=json&inc=artist-credits+releases`).then(e=>e.json()).then(e=>{c(l,e,!0),c(h,!1)}).catch(e=>{console.error("Failed to fetch MB data",e),c(h,!1)})):c(l,null)});let V=s(()=>a(l)?.title??a(N)),I=s(()=>a(l)?.["artist-credit"]?a(l)["artist-credit"].map(e=>e.name+(e.joinphrase||"")).join(""):a(w).length>0?a(w).join(", "):"Unknown Artist");function k(e){const t=Math.floor(e/6e4),d=(e%6e4/1e3).toFixed(0);return t+":"+(Number(d)<10?"0":"")+d}let P=s(()=>a(l)?.length?k(a(l).length):k(Number(a(S))??0)),L=s(()=>`synara://share${f.url.search}`),j=s(()=>a(n)?`https://musicbrainz.org/recording/${a(n)}`:null);var b=K(),z=o(r(b),4),D=r(z),g=o(r(D),2),_=r(g),O=r(_,!0);i(_);var $=o(_,2),Q=r($,!0);i($),i(g);var M=o(g,2);{var R=e=>{var t=G(),d=r(t);i(t),p(()=>u(d,`Duration: ${a(P)??""}`)),v(e,t)};y(M,e=>{a(P)&&e(R)})}var x=o(M,2),T=r(x),W=o(T,2);{var X=e=>{var t=H();p(()=>B(t,"href",a(j))),v(e,t)};y(W,e=>{a(j)&&e(X)})}i(x);var Y=o(x,2);{var Z=e=>{var t=J(),d=r(t);i(t),p(()=>u(d,`MBID: ${a(n)??""}`)),v(e,t)};y(Y,e=>{a(n)&&e(Z)})}i(D),i(z),i(b),p(()=>{u(O,a(V)),u(Q,a(I)),B(T,"href",a(L))}),v(U,b),E()}export{le as component};
